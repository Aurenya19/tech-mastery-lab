<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="India's Ultimate Tech Intelligence Hub - Real-time tech news, research papers, GitHub trends, and AI-powered chat with gamification">
  <meta name="keywords" content="tech news, research, GitHub, tech quiz, programming, AI chat, gamification, achievements">
  <meta name="author" content="Tech Mastery Lab">
  
  <title>ğŸ¯ TECH MASTERY LAB - Mission Control</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" href="favicon.svg">
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  
  <!-- Stylesheets (Order matters!) -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="logo-styles.css">
  <link rel="stylesheet" href="chat-fix.css">
  <link rel="stylesheet" href="mission-styles.css">
  <link rel="stylesheet" href="communities-enhanced.css">
  <link rel="stylesheet" href="communities.css">
  <link rel="stylesheet" href="modal-styles.css">
  <link rel="stylesheet" href="tabs-navigation.css">
</head>
<body>
  <!-- Matrix Background Canvas -->
  <canvas id="matrix" aria-hidden="true"></canvas>
  
  <!-- Main Container -->
  <div class="container">
    
    <!-- Header with Logo -->
    <header class="header">
      <div class="header__logo">
        <img src="logo.svg" alt="Tech Mastery Lab Logo" width="80" height="80">
      </div>
      <h1 class="header__title">ğŸ¯ TECH MASTERY LAB</h1>
      <p class="header__tagline">Mission Control - Your Tech Intelligence Hub</p>
      <p class="header__subtitle" id="last-update">Loading real-time data...</p>
    </header>
    
    <!-- Mission Dashboard -->
    <div id="mission-dashboard"></div>
    
    <!-- Stats Grid -->
    <div class="stats">
      <div class="stat-card">
        <span class="stat-card__number" id="news-count">0</span>
        <span class="stat-card__label">ğŸ“° NEWS STORIES</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="research-count">0</span>
        <span class="stat-card__label">ğŸ”¬ RESEARCH PAPERS</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="github-count">0</span>
        <span class="stat-card__label">ğŸ’» GITHUB REPOS</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="reddit-count">0</span>
        <span class="stat-card__label">ğŸ•µï¸ REDDIT POSTS</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="communities-count">40+</span>
        <span class="stat-card__label">ğŸŒ COMMUNITIES</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="quiz-count">100</span>
        <span class="stat-card__label">ğŸ§  QUIZ QUESTIONS</span>
      </div>
    </div>
    
    <!-- TABBED NAVIGATION -->
    <div class="tabs-container">
      <div class="tabs-nav">
        <button class="tab-btn active" onclick="switchTab('news')">ğŸ“° News</button>
        <button class="tab-btn" onclick="switchTab('research')">ğŸ”¬ Research</button>
        <button class="tab-btn" onclick="switchTab('github')">ğŸ’» GitHub</button>
        <button class="tab-btn" onclick="switchTab('reddit')">ğŸ•µï¸ Reddit</button>
        <button class="tab-btn" onclick="switchTab('map')">ğŸ›°ï¸ Map</button>
        <button class="tab-btn" onclick="switchTab('communities')">ğŸŒ Communities</button>
        <button class="tab-btn" onclick="switchTab('chat')">ğŸ’¬ Chat</button>
        <button class="tab-btn" onclick="switchTab('quiz')">ğŸ§  Quiz</button>
      </div>
      
      <!-- TAB CONTENT PANELS -->
      <div class="tabs-content">
        
        <!-- NEWS TAB -->
        <div id="tab-news" class="tab-panel active">
          <div class="tab-panel__header">
            <h2>ğŸ“° HACKER NEWS</h2>
            <p class="tab-panel__subtitle">Live API - Auto-refresh every 5 minutes</p>
          </div>
          <input type="text" class="search-input" id="news-search" placeholder="ğŸ” Search news..." onkeyup="searchNews()">
          <div id="news-list" class="list">
            <div class="loading">Loading Hacker News...</div>
          </div>
        </div>
        
        <!-- RESEARCH TAB -->
        <div id="tab-research" class="tab-panel">
          <div class="tab-panel__header">
            <h2>ğŸ”¬ RESEARCH PAPERS</h2>
            <p class="tab-panel__subtitle">30 Famous Computer Science Papers</p>
          </div>
          <input type="text" class="search-input" id="research-search" placeholder="ğŸ” Search papers..." onkeyup="searchResearch()">
          <div id="research-list" class="list">
            <div class="loading">Loading research papers...</div>
          </div>
        </div>
        
        <!-- GITHUB TAB -->
        <div id="tab-github" class="tab-panel">
          <div class="tab-panel__header">
            <h2>ğŸ’» GITHUB TRENDING</h2>
            <p class="tab-panel__subtitle">Live API - Auto-refresh every 15 minutes</p>
          </div>
          <input type="text" class="search-input" id="github-search" placeholder="ğŸ” Search repos..." onkeyup="searchGitHub()">
          <div id="github-list" class="list">
            <div class="loading">Loading GitHub trending...</div>
          </div>
        </div>
        
        <!-- REDDIT TAB -->
        <div id="tab-reddit" class="tab-panel">
          <div class="tab-panel__header">
            <h2>ğŸ•µï¸ REDDIT TECH</h2>
            <p class="tab-panel__subtitle">Live API - Auto-refresh every 10 minutes</p>
          </div>
          <input type="text" class="search-input" id="reddit-search" placeholder="ğŸ” Search posts..." onkeyup="searchReddit()">
          <div id="reddit-list" class="list">
            <div class="loading">Loading Reddit posts...</div>
          </div>
        </div>
        
        <!-- MAP TAB -->
        <div id="tab-map" class="tab-panel">
          <div class="tab-panel__header">
            <h2>ğŸ›°ï¸ GLOBAL TECH LABS</h2>
            <p class="tab-panel__subtitle">Satellite View of Major Tech Research Centers</p>
          </div>
          <div id="map" style="height: 600px; border-radius: 8px;"></div>
        </div>
        
        <!-- COMMUNITIES TAB -->
        <div id="tab-communities" class="tab-panel">
          <div class="tab-panel__header">
            <h2>ğŸŒ TECH COMMUNITIES</h2>
            <p class="tab-panel__subtitle">40+ Active Communities with Live Stats</p>
          </div>
          <div id="communities-content">
            <div class="communities-loading">Loading communities...</div>
          </div>
        </div>
        
        <!-- CHAT TAB -->
        <div id="tab-chat" class="tab-panel">
          <div class="tab-panel__header">
            <h2>ğŸ’¬ AI CHAT</h2>
            <p class="tab-panel__subtitle">Smart Responses + 8 Specialized Rooms</p>
          </div>
          
          <div class="chat-info">
            <span id="online-count">â— Online</span>
            <span id="current-room-name">General</span>
          </div>
          
          <div class="chat-rooms">
            <button class="chat-room active" onclick="switchRoom('general')">General</button>
            <button class="chat-room" onclick="switchRoom('ai-ml')">AI/ML</button>
            <button class="chat-room" onclick="switchRoom('space')">Space Tech</button>
            <button class="chat-room" onclick="switchRoom('coding')">Coding Help</button>
            <button class="chat-room" onclick="switchRoom('career')">Career</button>
            <button class="chat-room" onclick="switchRoom('india')">India Tech</button>
            <button class="chat-room" onclick="switchRoom('quiz')">Quiz</button>
            <button class="chat-room" onclick="switchRoom('research')">Research</button>
          </div>
          
          <div id="chat-messages" class="chat-messages"></div>
          
          <div class="chat-input-container">
            <input type="text" id="chat-input" class="chat-input" placeholder="Ask anything... (AI-powered)" onkeypress="handleChatKeyPress(event)">
            <button class="btn btn--primary" onclick="sendChatMessage()">Send ğŸš€</button>
          </div>
          
          <div class="chat-ai-status">
            <span id="ai-status">ğŸ¤– AI Ready - Ask me anything!</span>
          </div>
        </div>
        
        <!-- QUIZ TAB -->
        <div id="tab-quiz" class="tab-panel">
          <div class="tab-panel__header">
            <h2>ğŸ§  TECH QUIZ</h2>
            <p class="tab-panel__subtitle">100 Questions + XP Rewards</p>
          </div>
          
          <div class="quiz-controls">
            <div class="quiz-categories">
              <button class="btn btn--small btn--active" data-category="all" onclick="selectQuizCategory('all', this)">All</button>
              <button class="btn btn--small" data-category="Web Dev" onclick="selectQuizCategory('Web Dev', this)">Web Dev</button>
              <button class="btn btn--small" data-category="AI/ML" onclick="selectQuizCategory('AI/ML', this)">AI/ML</button>
              <button class="btn btn--small" data-category="Mobile" onclick="selectQuizCategory('Mobile', this)">Mobile</button>
              <button class="btn btn--small" data-category="Cloud" onclick="selectQuizCategory('Cloud', this)">Cloud</button>
              <button class="btn btn--small" data-category="Security" onclick="selectQuizCategory('Security', this)">Security</button>
              <button class="btn btn--small" data-category="Blockchain" onclick="selectQuizCategory('Blockchain', this)">Blockchain</button>
              <button class="btn btn--small" data-category="General" onclick="selectQuizCategory('General', this)">General</button>
            </div>
            
            <div class="quiz-modes">
              <button class="btn btn--primary" onclick="startQuiz('quick')">âš¡ Quick (10Q)</button>
              <button class="btn btn--primary" onclick="startQuiz('timed')">â±ï¸ Timed (20Q)</button>
              <button class="btn btn--primary" onclick="startQuiz('practice')">ğŸ“š Practice (50Q)</button>
            </div>
          </div>
          
          <div class="quiz-stats">
            <div class="stat">Score: <span id="quiz-score">0</span></div>
            <div class="stat" id="quiz-timer-display" style="display: none;">Time: <span id="quiz-timer">0:00</span></div>
          </div>
          
          <div id="quiz-content">
            <p class="text-center">Select a category and mode to start the quiz!</p>
          </div>
        </div>
        
      </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
      <p>Made with â¤ï¸ for the Indian Tech Community ğŸ‡®ğŸ‡³</p>
      <p>ğŸ¯ Mission-Based Learning | ğŸ† Achievements | ğŸ”¥ Daily Streaks | ğŸ’¯ 100% Free Forever</p>
      <p>Auto-updated every 5-15 minutes | <a href="https://github.com/Aurenya19/tech-mastery-lab" target="_blank">View on GitHub</a></p>
    </footer>
    
  </div>
  
  <!-- Modal for Details -->
  <div id="detail-modal" class="modal">
    <div class="modal__content">
      <span class="modal__close" onclick="closeModal()">&times;</span>
      <div id="modal-body"></div>
    </div>
  </div>
  
  <!-- Scripts (Order is CRITICAL!) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  
  <!-- Data Scripts (Load first - these define window.RESEARCH_PAPERS, etc.) -->
  <script src="quiz-questions.js"></script>
  <script src="indian-labs.js"></script>
  <script src="communities.js"></script>
  <script src="research-papers.js"></script>
  
  <!-- Main App Script (Defines AppState and core functions) -->
  <script src="app.js"></script>
  
  <!-- Fix Scripts (Override functions after app.js loads) -->
  <script src="research-fix.js"></script>
  <script src="search-functions.js"></script>
  <script src="final-fix.js"></script>
  <script src="complete-fix.js"></script>
  <script src="tabs-navigation.js"></script>
  
  <!-- Mission System (Needs AppState to be defined) -->
  <script src="mission-system.js"></script>
  
  <!-- Enhanced Communities (Needs window.COMMUNITIES) -->
  <script src="communities-enhanced.js"></script>
  
  <!-- AI Chat Scripts (Load in order) -->
  <script src="chat-ai.js"></script>
  <script src="chat-integration.js"></script>
  
  <!-- Communities App Script (Last) -->
  <script src="communities-app.js"></script>
</body>
</html>
