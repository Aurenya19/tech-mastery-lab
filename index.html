<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="India's Ultimate Tech Intelligence Hub - Real-time tech news, research papers, GitHub trends, Indian labs, and AI-powered chat with gamification">
  <meta name="keywords" content="tech news, research, GitHub, Indian labs, ISRO, IIT, tech quiz, programming, AI chat, gamification, achievements">
  <meta name="author" content="Tech Mastery Lab">
  
  <title>ğŸ¯ TECH MASTERY LAB - Mission Control</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" href="favicon.svg">
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  
  <!-- Stylesheets (Order matters!) -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="logo-styles.css">
  <link rel="stylesheet" href="chat-fix.css">
  <link rel="stylesheet" href="mission-styles.css">
  <link rel="stylesheet" href="communities-enhanced.css">
  <link rel="stylesheet" href="communities.css">
  <link rel="stylesheet" href="modal-styles.css">
</head>
<body>
  <!-- Matrix Background Canvas -->
  <canvas id="matrix" aria-hidden="true"></canvas>
  
  <!-- Main Container -->
  <div class="container">
    
    <!-- Header with Logo -->
    <header class="header">
      <div class="header__logo">
        <img src="logo.svg" alt="Tech Mastery Lab Logo" width="80" height="80">
      </div>
      <h1 class="header__title">ğŸ¯ TECH MASTERY LAB</h1>
      <p class="header__tagline">Mission Control - Your Tech Intelligence Hub</p>
      <p class="header__subtitle" id="last-update">Loading real-time data...</p>
    </header>
    
    <!-- Mission Dashboard -->
    <div id="mission-dashboard"></div>
    
    <!-- Stats Grid -->
    <div class="stats">
      <div class="stat-card">
        <span class="stat-card__number" id="news-count">0</span>
        <span class="stat-card__label">ğŸ“° NEWS STORIES</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="research-count">0</span>
        <span class="stat-card__label">ğŸ”¬ RESEARCH PAPERS</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="github-count">0</span>
        <span class="stat-card__label">ğŸ’» GITHUB REPOS</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="reddit-count">0</span>
        <span class="stat-card__label">ğŸ•µï¸ REDDIT POSTS</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="labs-count">50+</span>
        <span class="stat-card__label">ğŸ‡®ğŸ‡³ INDIAN LABS</span>
      </div>
      <div class="stat-card">
        <span class="stat-card__number" id="communities-count">40+</span>
        <span class="stat-card__label">ğŸŒ COMMUNITIES</span>
      </div>
    </div>
    
    <!-- Main Content Grid -->
    <div class="grid">
      
      <!-- HACKER NEWS SECTION -->
      <section class="panel" id="hacker-news-panel">
        <div class="panel__header" onclick="togglePanel('hacker-news')">
          <h2 class="panel__title">ğŸ“° HACKER NEWS (Live API - Auto-refresh 5min)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="hacker-news-content">
          <input type="text" class="search-input" id="news-search" placeholder="ğŸ” Search news..." onkeyup="searchNews()">
          <div id="news-list" class="list">
            <div class="loading">Loading Hacker News...</div>
          </div>
        </div>
      </section>
      
      <!-- RESEARCH PAPERS SECTION -->
      <section class="panel" id="research-panel">
        <div class="panel__header" onclick="togglePanel('research')">
          <h2 class="panel__title">ğŸ”¬ RESEARCH PAPERS (30 Famous Papers)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="research-content">
          <input type="text" class="search-input" id="research-search" placeholder="ğŸ” Search papers..." onkeyup="searchResearch()">
          <div id="research-list" class="list">
            <div class="loading">Loading research papers...</div>
          </div>
        </div>
      </section>
      
      <!-- GITHUB TRENDING SECTION -->
      <section class="panel" id="github-panel">
        <div class="panel__header" onclick="togglePanel('github')">
          <h2 class="panel__title">ğŸ’» GITHUB TRENDING (Live API - Auto-refresh 15min)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="github-content">
          <input type="text" class="search-input" id="github-search" placeholder="ğŸ” Search repos..." onkeyup="searchGitHub()">
          <div id="github-list" class="list">
            <div class="loading">Loading GitHub trending...</div>
          </div>
        </div>
      </section>
      
      <!-- REDDIT SECTION -->
      <section class="panel" id="reddit-panel">
        <div class="panel__header" onclick="togglePanel('reddit')">
          <h2 class="panel__title">ğŸ•µï¸ REDDIT TECH (Live API - Auto-refresh 10min)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="reddit-content">
          <input type="text" class="search-input" id="reddit-search" placeholder="ğŸ” Search posts..." onkeyup="searchReddit()">
          <div id="reddit-list" class="list">
            <div class="loading">Loading Reddit posts...</div>
          </div>
        </div>
      </section>
      
      <!-- SATELLITE MAP SECTION -->
      <section class="panel panel--full" id="satellite-panel">
        <div class="panel__header" onclick="togglePanel('satellite')">
          <h2 class="panel__title">ğŸ›°ï¸ GLOBAL TECH LABS (Satellite View)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="satellite-content">
          <div id="map" style="height: 500px; border-radius: 8px;"></div>
        </div>
      </section>
      
      <!-- INDIAN LABS MAP SECTION -->
      <section class="panel panel--full" id="indian-labs-panel">
        <div class="panel__header" onclick="togglePanel('indian-labs')">
          <h2 class="panel__title">ğŸ‡®ğŸ‡³ INDIAN TECH LABS (50+ Locations)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="indian-labs-content">
          <div id="indian-labs-map" style="height: 500px; border-radius: 8px;"></div>
        </div>
      </section>
      
      <!-- COMMUNITIES SECTION (ENHANCED) -->
      <section class="panel panel--full" id="communities-panel">
        <div class="panel__header" onclick="togglePanel('communities')">
          <h2 class="panel__title">ğŸŒ TECH COMMUNITIES (40+ Live Stats)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="communities-content">
          <div class="communities-loading">Loading communities...</div>
        </div>
      </section>
      
      <!-- LIVE CHAT SECTION (AI-POWERED) -->
      <section class="panel panel--full" id="chat-panel">
        <div class="panel__header" onclick="togglePanel('chat')">
          <h2 class="panel__title">ğŸ’¬ AI CHAT (Smart Responses + 8 Rooms)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="chat-content">
          <div class="chat-info">
            <span id="online-count">â— Online</span>
            <span id="current-room-name">General</span>
          </div>
          
          <div class="chat-rooms">
            <button class="chat-room active" onclick="switchRoom('general')">General</button>
            <button class="chat-room" onclick="switchRoom('ai-ml')">AI/ML</button>
            <button class="chat-room" onclick="switchRoom('space')">Space Tech</button>
            <button class="chat-room" onclick="switchRoom('coding')">Coding Help</button>
            <button class="chat-room" onclick="switchRoom('career')">Career</button>
            <button class="chat-room" onclick="switchRoom('india')">India Tech</button>
            <button class="chat-room" onclick="switchRoom('quiz')">Quiz</button>
            <button class="chat-room" onclick="switchRoom('research')">Research</button>
          </div>
          
          <div id="chat-messages" class="chat-messages"></div>
          
          <div class="chat-input-container">
            <input type="text" id="chat-input" class="chat-input" placeholder="Ask anything... (AI-powered)" onkeypress="handleChatKeyPress(event)">
            <button class="btn btn--primary" onclick="sendChatMessage()">Send ğŸš€</button>
          </div>
          
          <div class="chat-ai-status">
            <span id="ai-status">ğŸ¤– AI Ready - Ask me anything!</span>
          </div>
        </div>
      </section>
      
      <!-- TECH QUIZ SECTION -->
      <section class="panel panel--full" id="quiz-panel">
        <div class="panel__header" onclick="togglePanel('quiz')">
          <h2 class="panel__title">ğŸ§  TECH QUIZ (100 Questions + XP Rewards)</h2>
          <span class="panel__toggle">â–¼</span>
        </div>
        <div class="panel__content" id="quiz-content-panel">
          <div class="quiz-controls">
            <div class="quiz-categories">
              <button class="btn btn--small btn--active" data-category="all" onclick="selectQuizCategory('all', this)">All</button>
              <button class="btn btn--small" data-category="Web Dev" onclick="selectQuizCategory('Web Dev', this)">Web Dev</button>
              <button class="btn btn--small" data-category="AI/ML" onclick="selectQuizCategory('AI/ML', this)">AI/ML</button>
              <button class="btn btn--small" data-category="Mobile" onclick="selectQuizCategory('Mobile', this)">Mobile</button>
              <button class="btn btn--small" data-category="Cloud" onclick="selectQuizCategory('Cloud', this)">Cloud</button>
              <button class="btn btn--small" data-category="Security" onclick="selectQuizCategory('Security', this)">Security</button>
              <button class="btn btn--small" data-category="Blockchain" onclick="selectQuizCategory('Blockchain', this)">Blockchain</button>
              <button class="btn btn--small" data-category="General" onclick="selectQuizCategory('General', this)">General</button>
            </div>
            
            <div class="quiz-modes">
              <button class="btn btn--primary" onclick="startQuiz('quick')">âš¡ Quick (10Q)</button>
              <button class="btn btn--primary" onclick="startQuiz('timed')">â±ï¸ Timed (20Q)</button>
              <button class="btn btn--primary" onclick="startQuiz('practice')">ğŸ“š Practice (50Q)</button>
            </div>
          </div>
          
          <div class="quiz-stats">
            <div class="stat">Score: <span id="quiz-score">0</span></div>
            <div class="stat" id="quiz-timer-display" style="display: none;">Time: <span id="quiz-timer">0:00</span></div>
          </div>
          
          <div id="quiz-content">
            <p class="text-center">Select a category and mode to start the quiz!</p>
          </div>
        </div>
      </section>
      
    </div>
    
    <!-- Footer -->
    <footer class="footer">
      <p>Made with â¤ï¸ for the Indian Tech Community ğŸ‡®ğŸ‡³</p>
      <p>ğŸ¯ Mission-Based Learning | ğŸ† Achievements | ğŸ”¥ Daily Streaks | ğŸ’¯ 100% Free Forever</p>
      <p>Auto-updated every 5-15 minutes | <a href="https://github.com/Aurenya19/tech-mastery-lab" target="_blank">View on GitHub</a></p>
    </footer>
    
  </div>
  
  <!-- Modal for Details -->
  <div id="detail-modal" class="modal">
    <div class="modal__content">
      <span class="modal__close" onclick="closeModal()">&times;</span>
      <div id="modal-body"></div>
    </div>
  </div>
  
  <!-- Scripts (Order is CRITICAL!) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  
  <!-- Data Scripts (Load first - these define window.RESEARCH_PAPERS, etc.) -->
  <script src="quiz-questions.js"></script>
  <script src="indian-labs.js"></script>
  <script src="communities.js"></script>
  <script src="research-papers.js"></script>
  
  <!-- Main App Script (Defines AppState and core functions) -->
  <script src="app.js"></script>
  
  <!-- Fix Scripts (Override functions after app.js loads) -->
  <script src="research-fix.js"></script>
  <script src="search-functions.js"></script>
  <script src="final-fix.js"></script>
  
  <!-- Mission System (Needs AppState to be defined) -->
  <script src="mission-system.js"></script>
  
  <!-- Enhanced Communities (Needs window.COMMUNITIES) -->
  <script src="communities-enhanced.js"></script>
  
  <!-- AI Chat Scripts (Load in order) -->
  <script src="chat-ai.js"></script>
  <script src="chat-integration.js"></script>
  
  <!-- Communities App Script (Last) -->
  <script src="communities-app.js"></script>
</body>
</html>
