<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Global Tech Intelligence Hub - Deep Analysis System</title>
<link rel="stylesheet" href="https://cesium.com/downloads/cesiumjs/releases/1.112/Build/Cesium/Widgets/widgets.css">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'SF Mono','Monaco','Courier New',monospace;background:#000;color:#0f0;overflow:hidden}
.container{height:100vh;display:grid;grid-template-rows:auto 1fr}
.header{background:#001a00;padding:20px;border-bottom:2px solid #0f0}
.header h1{font-size:2em;color:#0f0;text-shadow:0 0 10px #0f0}
.header p{color:#0a0;margin-top:5px;font-size:0.9em}
.main{display:grid;grid-template-columns:1fr 1fr;gap:15px;padding:15px;height:100%;overflow:hidden}
.panel{background:rgba(0,26,0,0.95);border:2px solid #0f0;padding:20px;overflow-y:auto;box-shadow:0 0 20px rgba(0,255,0,0.3)}
.panel h2{color:#0f0;font-size:1.3em;margin-bottom:15px;border-bottom:2px solid #0f0;padding-bottom:10px}
.breakthrough{background:rgba(0,51,0,0.7);padding:15px;margin:15px 0;border-left:4px solid #0ff;transition:all 0.3s;cursor:pointer}
.breakthrough:hover{background:rgba(0,51,0,1);transform:translateX(5px);border-left-width:6px}
.breakthrough h3{color:#0ff;font-size:1.1em;margin-bottom:8px}
.breakthrough .meta{color:#0a0;font-size:0.85em;margin:8px 0}
.breakthrough .impact{color:#ff0;font-weight:bold;margin-top:10px}
.tag{display:inline-block;padding:4px 10px;background:rgba(0,255,0,0.2);border:1px solid #0f0;margin:5px 5px 0 0;font-size:0.8em}
.critical{border-left-color:#f00!important}
.high{border-left-color:#ff0!important}
#globe{width:100%;height:100%;background:#000}
.status{display:inline-block;width:10px;height:10px;background:#0f0;border-radius:50%;margin-right:8px;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.3}}

/* DEEP DIVE MODAL */
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:1000;overflow-y:auto}
.modal.active{display:block}
.modal-content{max-width:1200px;margin:50px auto;background:#001a00;border:3px solid #0f0;padding:30px;box-shadow:0 0 50px rgba(0,255,0,0.5)}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:2px solid #0f0;padding-bottom:15px}
.modal-header h2{color:#0ff;font-size:1.8em}
.close-btn{background:#f00;color:#fff;border:none;padding:10px 20px;cursor:pointer;font-size:1.2em;font-weight:bold}
.close-btn:hover{background:#ff0;color:#000}
.section{margin:20px 0;padding:20px;background:rgba(0,51,0,0.5);border-left:3px solid #0f0}
.section h3{color:#0f0;font-size:1.3em;margin-bottom:15px}
.section p{color:#0f0;line-height:1.8;margin:10px 0}
.section ul{margin-left:20px;color:#0f0}
.section li{margin:8px 0;line-height:1.6}
.proof{background:rgba(255,255,0,0.1);border:1px solid #ff0;padding:15px;margin:10px 0}
.proof h4{color:#ff0;margin-bottom:10px}
.urgent{background:rgba(255,0,0,0.2);border:2px solid #f00;padding:15px;margin:15px 0}
.urgent h4{color:#f00;font-size:1.2em;margin-bottom:10px}
.secret{background:rgba(255,0,255,0.1);border:2px solid #f0f;padding:15px;margin:15px 0}
.secret h4{color:#f0f;font-size:1.2em;margin-bottom:10px}
.timeline{border-left:3px solid #0ff;padding-left:20px;margin:20px 0}
.timeline-item{margin:15px 0;padding:10px;background:rgba(0,255,255,0.1)}
.timeline-item .date{color:#0ff;font-weight:bold}
a{color:#0ff;text-decoration:none}
a:hover{color:#ff0;text-decoration:underline}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1><span class="status"></span>GLOBAL TECH INTELLIGENCE HUB</h1>
<p>Deep Analysis System ‚Ä¢ Click any breakthrough for full intelligence report ‚Ä¢ Auto-updating every 60s</p>
<p id="last-update" style="margin-top:10px;color:#0ff">Initializing...</p>
</div>
<div class="main">
<div class="panel">
<h2>üö® LATEST BREAKTHROUGHS (CLICK FOR DEEP DIVE)</h2>
<div id="breakthroughs"></div>
</div>
<div class="panel">
<h2>üõ∞Ô∏è LIVE EARTH - 3D SATELLITE VIEW</h2>
<div id="globe"></div>
</div>
</div>
</div>

<!-- DEEP DIVE MODAL -->
<div id="modal" class="modal">
<div class="modal-content">
<div class="modal-header">
<h2 id="modal-title">Loading...</h2>
<button class="close-btn" onclick="closeModal()">‚úï CLOSE</button>
</div>
<div id="modal-body"></div>
</div>
</div>

<script src="https://cesium.com/downloads/cesiumjs/releases/1.112/Build/Cesium/Cesium.js"></script>
<script src="intelligence-data.js"></script>
<script>
let viewer;

function displayBreakthroughs() {
  const container = document.getElementById('breakthroughs');
  
  container.innerHTML = INTELLIGENCE_DATA.map((item, index) => {
    const impactLevel = item.impact.startsWith('CRITICAL') ? 'critical' : 
                       item.impact.startsWith('HIGH') ? 'high' : '';
    
    return `
      <div class="breakthrough ${impactLevel}" onclick="openDeepDive(${index})">
        <h3>${item.title}</h3>
        <p>${item.description}</p>
        <div class="meta">
          <span class="tag">${item.category}</span>
          <span class="tag">${item.source}</span>
          <span class="tag">${new Date(item.date).toLocaleDateString()}</span>
          <span class="tag">üîç CLICK FOR FULL ANALYSIS</span>
        </div>
        <div class="impact">${item.impact}</div>
      </div>
    `;
  }).join('');
}

function openDeepDive(index) {
  const item = INTELLIGENCE_DATA[index];
  const modal = document.getElementById('modal');
  const title = document.getElementById('modal-title');
  const body = document.getElementById('modal-body');
  
  title.textContent = item.title;
  
  body.innerHTML = `
    <div class="section">
      <h3>üìã EXECUTIVE SUMMARY</h3>
      <p>${item.deepDive.summary}</p>
    </div>
    
    <div class="section">
      <h3>üî¨ TECHNICAL DETAILS</h3>
      ${item.deepDive.technical.map(t => `<p><strong>${t.title}:</strong> ${t.detail}</p>`).join('')}
    </div>
    
    ${item.deepDive.secrets ? `
    <div class="secret">
      <h4>üîê CLASSIFIED/HIDDEN INFORMATION</h4>
      ${item.deepDive.secrets.map(s => `<p><strong>‚Ä¢ ${s.title}:</strong> ${s.detail}</p>`).join('')}
    </div>
    ` : ''}
    
    ${item.deepDive.urgent ? `
    <div class="urgent">
      <h4>‚ö†Ô∏è URGENT CONCERNS & ACTION ITEMS</h4>
      ${item.deepDive.urgent.map(u => `<p><strong>‚Ä¢ ${u.title}:</strong> ${u.detail}</p>`).join('')}
    </div>
    ` : ''}
    
    <div class="section">
      <h3>‚úÖ PROOF & VERIFICATION</h3>
      ${item.deepDive.proofs.map(p => `
        <div class="proof">
          <h4>${p.type}</h4>
          <p>${p.detail}</p>
          <p><a href="${p.url}" target="_blank">View Source ‚Üí</a></p>
        </div>
      `).join('')}
    </div>
    
    <div class="section">
      <h3>üìÖ TIMELINE</h3>
      <div class="timeline">
        ${item.deepDive.timeline.map(t => `
          <div class="timeline-item">
            <div class="date">${t.date}</div>
            <div>${t.event}</div>
          </div>
        `).join('')}
      </div>
    </div>
    
    <div class="section">
      <h3>üéØ IMPLICATIONS & IMPACT</h3>
      <ul>
        ${item.deepDive.implications.map(i => `<li>${i}</li>`).join('')}
      </ul>
    </div>
    
    <div class="section">
      <h3>üîó OFFICIAL SOURCES</h3>
      <ul>
        ${item.deepDive.sources.map(s => `<li><a href="${s.url}" target="_blank">${s.name}</a></li>`).join('')}
      </ul>
    </div>
  `;
  
  modal.classList.add('active');
}

function closeModal() {
  document.getElementById('modal').classList.remove('active');
}

function init3DGlobe() {
  try {
    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5N2UyMjcwOS00MDY1LTQxYjEtYjZjMy00YTU0ZTg1YmJhMTUiLCJpZCI6ODAzMDYsImlhdCI6MTY0Mjc0ODI2MX0.dkwAL1CcljUV7NA7fDbhXXnmyZQU_c-G4zsiaxEkfw0';
    
    viewer = new Cesium.Viewer('globe', {
      imageryProvider: new Cesium.IonImageryProvider({ assetId: 3845 }),
      baseLayerPicker: false,
      geocoder: false,
      homeButton: false,
      sceneModePicker: false,
      navigationHelpButton: false,
      animation: false,
      timeline: false,
      fullscreenButton: false
    });
    
    const locations = [
      { lat: 28.6139, lng: 77.2090, name: 'New Delhi', desc: 'Tech Hub' },
      { lat: 12.9716, lng: 77.5946, name: 'Bangalore', desc: 'Silicon Valley of India' },
      { lat: 37.7749, lng: -122.4194, name: 'San Francisco', desc: 'AI Capital' },
      { lat: 51.5074, lng: -0.1278, name: 'London', desc: 'Tech Hub' },
      { lat: 35.6762, lng: 139.6503, name: 'Tokyo', desc: 'Robotics Center' },
      { lat: 31.2304, lng: 121.4737, name: 'Shanghai', desc: 'Manufacturing AI' }
    ];
    
    locations.forEach(loc => {
      viewer.entities.add({
        position: Cesium.Cartesian3.fromDegrees(loc.lng, loc.lat),
        point: {
          pixelSize: 10,
          color: Cesium.Color.LIME,
          outlineColor: Cesium.Color.BLACK,
          outlineWidth: 2
        },
        label: {
          text: loc.name,
          font: '14px monospace',
          fillColor: Cesium.Color.LIME,
          outlineColor: Cesium.Color.BLACK,
          outlineWidth: 2,
          style: Cesium.LabelStyle.FILL_AND_OUTLINE,
          verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
          pixelOffset: new Cesium.Cartesian2(0, -10)
        }
      });
    });
    
    viewer.clock.shouldAnimate = true;
    viewer.scene.globe.enableLighting = true;
  } catch (error) {
    console.error('Globe error:', error);
  }
}

function updateTimestamp() {
  document.getElementById('last-update').textContent = 
    `Last updated: ${new Date().toLocaleString()} ‚Ä¢ Next update in 60s`;
}

window.onload = () => {
  displayBreakthroughs();
  init3DGlobe();
  updateTimestamp();
  setInterval(() => {
    displayBreakthroughs();
    updateTimestamp();
  }, 60000);
};

// Close modal on ESC key
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') closeModal();
});
</script>
</body>
</html>